import './polyfills.server.mjs';
import{a as z,b as R,c as q,d as H,e as Q,g as G}from"./chunk-HJSTLAKB.mjs";import{a as J,b as K}from"./chunk-AHJKRO7Z.mjs";import{b as W,c as A,d as B}from"./chunk-I4XBTHV6.mjs";import"./chunk-GNX7K4GQ.mjs";import{$a as d,Cb as c,Fb as V,Gb as w,Hb as S,Ib as F,Kb as x,Lb as E,Qa as o,Z as N,a as L,ba as _,fb as v,g as k,hb as m,ka as P,kb as f,la as b,lb as I,mb as j,nb as D,ob as a,pb as i,qb as u,rb as $,tb as C,ub as h}from"./chunk-UFIA264M.mjs";import{h as g,i as T,j as O}from"./chunk-K7YHPIF3.mjs";var Y=()=>["fas","id-card"],Z=()=>["fas","dna"];function ee(e,t){e&1&&(a(0,"app-empty-list")(1,"h2"),c(2,"Nada foi encontrado"),i(),a(3,"p"),c(4,"Tente realizar uma nova busca"),i()())}function te(e,t){if(e&1&&(a(0,"div",13),u(1,"app-characters-list-item-preview",14),i()),e&2){let n=t.$implicit;o(),m("character",n)}}function ne(e,t){e&1&&c(0," Carregando... ")}function ie(e,t){if(e&1&&(a(0,"div",11),j(1,te,2,1,"div",13,I,!1,ne,1,0),i()),e&2){let n=h();o(),D(n.characters$())}}function re(e,t){if(e&1){let n=$();a(0,"div",16)(1,"button",17),C("click",function(){P(n);let r=h(2);return b(r.previousPage())}),c(2,"Anterior"),i()(),a(3,"div",18)(4,"p",19),c(5),i()(),a(6,"div",20)(7,"button",17),C("click",function(){P(n);let r=h(2);return b(r.nextPage())}),c(8,"Pr\xF3xima"),i()()}if(e&2){let n=h(2);o(),m("disabled",n.pagesCount()==1),o(4),V("",n.pagesCount()," / ",n.pagesTotal(),""),o(2),m("disabled",n.pagesCount()==n.pagesTotal())}}function oe(e,t){if(e&1&&(a(0,"div",12)(1,"div",15),v(2,re,9,4),i()()),e&2){let n=h();o(2),f(2,n.pagesTotal()>1?2:-1)}}var U=(()=>{var t;let n=class n{constructor(){T(this,t,void 0);this.searchQuery$=new k(""),this.params={},this.pagesCount=d(1),this.pagesTotal=d(0),this.errorNotFound=d(!1),O(this,t,N(B)),this.characters$=d([]),this.favoritesCharacters$=g(this,t).getFavoriteCharacters$(),this.characterSubscription=new L,this.paramName=""}ngOnInit(){this.params.page=1,this.searchCharacters()}searchCharacters(){this.params.page=this.pagesCount();let r=g(this,t).getCharacters$(this.params).subscribe({next:l=>{this.pagesTotal.set(l.info.pages),this.characters$=d(l.results),this.errorNotFound.set(!1)},error:l=>{this.errorNotFound.set(!0)}});this.characterSubscription.add(r)}getFavoriteCharacters(){g(this,t).getFavoriteCharacters$()}previousPage(){this.pagesCount()!=1&&(this.pagesCount.update(r=>r-1),this.searchCharacters())}nextPage(){this.pagesCount()!=this.pagesTotal()&&(this.pagesCount.update(r=>r+1),this.searchCharacters())}ngOnDestroy(){this.characterSubscription.unsubscribe()}};t=new WeakMap,n.\u0275fac=function(l){return new(l||n)},n.\u0275cmp=_({type:n,selectors:[["app-characters-list"]],standalone:!0,features:[x],decls:21,vars:9,consts:[[1,"host-container"],[1,"container","flex-auto","d-flex","flex-column"],[1,"row","mt-4","mb-4"],[1,"col-12","col-md-4","col-lg-6","d-flex","justify-content-start"],[1,"creepster-regular"],[1,"col-12","col-md-4","col-lg-3","d-flex","justify-content-center","flex-column"],[1,"search-container"],["type","text","placeholder","Procure por nome",1,"w-100",3,"ngModelChange","keyup.enter","ngModel"],[3,"icon"],[1,"search-hint"],["type","text","placeholder","Procure por esp\xE9cie",1,"w-100",3,"ngModelChange","keyup.enter","ngModel"],[1,"row","g-4"],[1,"container","mt-5"],[1,"col-12","col-sm-6","col-md-4","col-lg-3","col-xl-2"],[3,"character"],[1,"row"],[1,"col-3","d-flex","justify-content-start"],[1,"button",3,"click","disabled"],[1,"col-6","d-flex","justify-content-center","align-items-center"],[1,"pagesCount"],[1,"col-3","d-flex","justify-content-end"]],template:function(l,s){l&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),c(5," In\xEDcio "),i()(),a(6,"div",5)(7,"div",6)(8,"input",7),F("ngModelChange",function(p){return S(s.params.name,p)||(s.params.name=p),p}),C("keyup.enter",function(){return s.searchCharacters()}),i(),u(9,"fa-icon",8),i(),a(10,"span",9),c(11,"Pressione Enter para pesquisar"),i()(),a(12,"div",5)(13,"div",6)(14,"input",10),F("ngModelChange",function(p){return S(s.params.species,p)||(s.params.species=p),p}),C("keyup.enter",function(){return s.searchCharacters()}),i(),u(15,"fa-icon",8),i(),a(16,"span",9),c(17,"Pressione Enter para pesquisar"),i()()(),v(18,ee,5,0,"app-empty-list")(19,ie,4,1,"div",11),i(),v(20,oe,3,1,"div",12),i()),l&2&&(o(8),w("ngModel",s.params.name),o(),m("icon",E(7,Y)),o(5),w("ngModel",s.params.species),o(),m("icon",E(8,Z)),o(3),f(18,s.errorNotFound()?18:-1),o(),f(19,s.characters$()&&!s.errorNotFound()?19:-1),o(),f(20,s.characters$()&&!s.errorNotFound()?20:-1))},dependencies:[J,K,A,W,H,z,R,q,G,Q],styles:["[_nghost-%COMP%]{display:flex;flex:auto;margin-bottom:200px}[_nghost-%COMP%]   .host-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:row;position:relative;width:100%}[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   .ng-fa-icon[_ngcontent-%COMP%]{color:var(--default-border-color);left:10px;position:absolute;transition:all .2s;z-index:1}[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:none;border:solid 2px var(--default-border-color);border-radius:10px;color:var(--default-font-color);margin:.2rem 0;padding:.5rem .5rem .5rem 30px}[_nghost-%COMP%]   .search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + .ng-fa-icon[_ngcontent-%COMP%]{color:var(--default-font-color);transition:all .2s}[_nghost-%COMP%]   .search-hint[_ngcontent-%COMP%]{color:var(--default-border-color);font-size:.8rem}[_nghost-%COMP%]   .pagesCount[_ngcontent-%COMP%]{color:var(--default-font-color);margin:0}"]});let e=n;return e})();var ye=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=_({type:t,selectors:[["app-characters-list-page"]],standalone:!0,features:[x],decls:1,vars:0,template:function(r,l){r&1&&u(0,"app-characters-list")},dependencies:[U]});let e=t;return e})();export{ye as default};
